
                MQTT Dialog Agent message testing

                       -Joseph Astier


This directory contains test directories for each of the topics subscribed to
on the Message Bus.  Each test is the diff of what is the Agent is 
expected to produce for the given input message, and what is actually
received on the Message Bus.  

This is fine-level detail that validates the output of the Dialog Agent
for any required message type

There should be no differences except timestamps unless otherwise noted.


Prerquisites:
*  The mosquitto broker must be running.  To start the broker:
   $ mosquitto -v

*  The MQTT Dialog Agent must be running.  To start the agent:
   $ sbt "runMain org.clulab.asist.apps.RunDialogAgent mqtt localhost 1883"


Makefile targets:
"test"   Test messages generated by the Dialog Agent for correct content.

"clean"  Remove previous test results. Tests perform this step automtically.



PASSING TEST EXAMPLE:

9c9
<     "timestamp": "2022-04-22T05:22:14.064Z",
---
>     "timestamp": "2022-04-23T01:34:14.665Z",
16,17c16,17
<     "timestamp": "2022-04-22T05:22:14.064Z",
---
>     "timestamp": "2022-04-23T01:34:14.665Z",



FAILING TEST EXAMPLE: 

33a34,38
>         "message_type": "trial",
>         "sub_type": "stop",
>         "topic": "trial"
>       },
>       {
44c49
<     "version": "4.0.3"
---
>     "version": "4.1.4"
48c53
<     "timestamp": "2022-04-22T20:07:30.260Z",
---
>     "timestamp": "2022-04-23T01:43:11.714Z",
55c60
<     "timestamp": "2022-04-22T20:07:30.260Z",
---
>     "timestamp": "2022-04-23T01:43:11.714Z",
57c62
<     "version": "4.0.3"
---
>     "version": "4.1.4"

